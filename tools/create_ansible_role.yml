#
# ansible-playbook -e role_name=role_test create_ansible_role.yml
# 
- hosts: localhost
  gather_facts: no

  vars:
    project: "{{ castle_gitlab_ansible_role_prefix }}-{{ role_name }}"

  roles:
    - castle_gitlab

  tasks:
    - include_tasks: roles/castle_gitlab/tasks/project_create.yml
      vars:
        project_name: "{{ project }}"

    - include_tasks: roles/castle_gitlab/tasks/project_add_issue_label.yml
      vars:
        project_name: "{{ project }}"
        issue_label: "{{ item }}"
      with_items:
        - "{{ castle_gitlab_ansible_issue_labels }}"